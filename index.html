<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>OTTP - Open TableTop Pathing</title>
    <link rel="stylesheet" href="./src/ottp.css">
</head>

<body>
    <!-- [START] Diesen Block Dynamisch erzeugen -->
    <div id="ottp-action-navigation" class="">Start Navigation</div>
    <div id="ottp-filter-button">|||</div>
    <div id="ottp-filter-content">
        <ul>
        </ul>
    </div>
    <div id="ottp-info-box"></div>
    <!-- [END] Diesen Block Dynamisch erzeugen -->

    <canvas id="ottp-map"></canvas>
    <script src="./src/helper.js"></script>
    <script src="./src/ottp.js"></script>
    <script src="./assets/point.js"></script>
    <script src="./assets/routes.js"></script>
    <script>
        // Klasse OTTP erzeugen
        const ottp = new OTTP();

        // Layer hinzuf√ºgen - addLayer(layerId, layerName, layerPath, layerInitialVisible)
        ottp.addLayer(0, 'Layer: Background', './assets/layer_0.png', true);
        ottp.addLayer(1, 'Layer: Inseln', './assets/layer_1.svg', true);
        ottp.addLayer(2, 'Layer: Namen', './assets/layer_2.svg', true);
        ottp.addLayer(3, 'Layer: Routen', './assets/layer_3.svg', true);

        // Debug
        console.log(findSimularPoints(points));
        
        // Punkte laden - addPoint(x, y, pointId)
        for (let i = 0; i < points.length; i++) {
            ottp.addPoint(points[i][0], points[i][1], (points[i][2] * 1));
        }

        // Routen laden - addRoute(startPointId, endPointId, routeWeight)
        for (let i = 0; i < routes.length; i++) {
            ottp.addRoute((routes[i][0] * 1), (routes[i][1] * 1), routes[i][2]);
        }

        // Initialisieren
        ottp.init();
    </script>
</body>

</html>